from antennalib import QP_Up, Up_array
import numpy as np

QP_path = ('Z:/mcdermott-group/data/BlackBody/Circmon/LIU/CW20180514A_Ox2/{}/{}/MATLABData/{}')

# date = 'P1Pre2021May14'
# experiment_name_global = 'Q4_P1_'
#
#
# temp = '425mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 30, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# #
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '375mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 37, 1)
# file_Number_Extract = np.array([4, 7, 9, 15, 16, 22, 23, 27, 28, 29, 32, 34])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
#
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '318mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 41, 1)
# file_Number_Extract = np.array([15, 24, 28, 30])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
#
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '267mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 30, 1)
# file_Number_Extract = np.array([6, 7, 17])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
#
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '210mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 30, 1)
# file_Number_Extract = np.array([6, 7, 17, 19, 20, 25, 27])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
#
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '170mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 30, 1)
# file_Number_Extract = np.array([7, 11, 12, 14, 17])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
#
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '125mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 30, 1)
# file_Number_Extract = np.array([18, 19, 28])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
#
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '75mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 30, 1)
# file_Number_Extract = np.array([0, 8, 10, 14, 18, 24])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
#
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# date = '05-17-21'
# experiment_name_global = 'Q4_P1_'

# temp = '425mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 30, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# #
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '365mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 20, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# #
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '305mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 20, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# #
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '186mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 20, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# #
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '75mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 10, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# #
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# date = '06-07-21'
# experiment_name_global = 'Q4_P1_'
#
# temp = '236mK'
# file_Number_Tot = np.arange(5, 55, 1)
#
# temp = '253mK'
# file_Number_Tot = np.arange(0, 50, 1)
#
# temp = '267mK'
# file_Number_Tot = np.arange(0, 50, 1)
#
# date = '06-08-21'
# experiment_name_global = 'Q4_P1_'

# temp = '280mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 50, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# #
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# temp = '293mK'
# temp = '307mK'
# temp = '318mK'
# temp = '332mK'
# temp = '343mK'
# temp = '355mK'
# temp = '366mK'
# temp = '378mK'
# temp = '391mK'
# temp = '403mK'
# temp = '414mK'
# temp = '426mK'
# temp = '437mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 50, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# #
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

# date = '06-09-21'
# experiment_name_global = 'Q4_P1_'
#
# temp = '525mK'
# experiment_name = experiment_name_global + temp
#
# file_Number_Tot = np.arange(0, 50, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# #
# QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# QP.plot()

### Start from here new error analysis
Q4_data_array = Up_array()
QP_path = ('Z:/mcdermott-group/data/BlackBody/Circmon/LIU/CW20180514A_Ox2/{}/{}/MATLABData/{}')
experiment_name_global = 'Q4_P1_'

# date = '06-07-21'
# temp=236
# experiment_name = experiment_name_global + str(temp) + 'mk'
# file_Number_Tot = np.arange(5, 55, 1)
# file_Number_Extract = np.array([])
# file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
# QP_file = [QP_path.format(date, experiment_name, experiment_name) +
#            '_{:03d}.mat'.format(i) for i in file_Number]
# QP = QP_Up()
# QP.add_data_from_matlab(QP_file, temp)
# tempUpUpError = np.array([temp, QP.GammaUp, QP.GammaUp_std_err])
# Q4_data_array.insert_data(tempUpUpError)
#
# temp_list = [253, 267]
# for temp in temp_list:
#     experiment_name = experiment_name_global + str(temp) + 'mk'
#     file_Number_Tot = np.arange(0, 50, 1)
#     file_Number_Extract = np.array([])
#     file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
#     QP_file = [QP_path.format(date, experiment_name, experiment_name) + '_{:03d}.mat'.format(i) for i in file_Number]
#     QP = QP_Up()
#     QP.add_data_from_matlab(QP_file, temp)
#     tempUpUpError = np.array([temp, QP.GammaUp, QP.GammaUp_std_err])
#     Q4_data_array.insert_data(tempUpUpError)
# #
date = '06-08-21'
temp_list = [293]
# temp_list = [280, 293, 307, 318, 332, 343, 355, 366, 378, 391, 403, 414, 426, 437]
for temp in temp_list:
    experiment_name = experiment_name_global + str(temp) + 'mk'
    file_Number_Tot = np.arange(0, 50, 1)
    file_Number_Extract = np.array([])
    file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
    QP_file = [QP_path.format(date, experiment_name,
                              experiment_name) + '_{:03d}.mat'.format(i)
               for i in file_Number]
    QP = QP_Up()
    QP.add_data_from_matlab(QP_file, temp)
    tempUpUpError = np.array([temp, QP.GammaUp, QP.GammaUp_std_err])
    Q4_data_array.insert_data(tempUpUpError)
#
# date = '06-09-21'
# temp_list = [451, 463, 475, 488, 501, 525]
# temp_list = [501]
# for temp in temp_list:
#     experiment_name = experiment_name_global + str(temp) + 'mk'
#     file_Number_Tot = np.arange(0, 50, 1)
#     file_Number_Extract = np.array([])
#     file_Number = np.setdiff1d(file_Number_Tot, file_Number_Extract)
#     QP_file = [QP_path.format(date, experiment_name,
#                               experiment_name) + '_{:03d}.mat'.format(i)
#                for i in file_Number]
#     QP = QP_Up()
#     QP.add_data_from_matlab(QP_file, temp)
#     tempUpUpError = np.array([temp, QP.GammaUp, QP.GammaUp_std_err])
#     Q4_data_array.insert_data(tempUpUpError)

QP.plot_Chi()
QP.plot()
# Q4_data_array.plot()