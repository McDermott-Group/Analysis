### To analyze the P1 vs J2 Bias data
### src: Z:\mcdermott-group\data\BlackBody\Circmon\LIU\CW20180514A_Ox2\JJRadiatorT1P1_2021Aug18_HighDensity\P1_J2_Q1
### src: Z:\mcdermott-group\data\BlackBody\Circmon\LIU\CW20180514A_Ox2\JJRadiatorT1P1_2021Aug18_HighDensity\P1_J2_Q4

from antennalib import P1_JSweep
import matplotlib.pyplot as plt
import numpy as np
import copy

### file_path = ('Z:/mcdermott-group/data/BlackBody/Circmon/LIU/CW20180514A_Ox2/{}/{}/MATLABData/{}')

### date = 'JJRadiatorT1P1_2021Aug18_HighDensity'

# data is after handling the offset
J2_Bias_Q1 = np.array([
    -19.2, -14.2,  -9.2,  -4.2,   0.8,   5.8,  10.8,  11.3,  11.8,
    12.3,  12.8,  13.3,  13.8,  14.3,  14.8,  15.3,  15.8,  16.3,
    16.8,  17.3,  17.8,  18.3,  18.8,  19.3,  19.8,  20.3,  20.8,
    21.3,  21.8,  22.3,  22.8,  23.3,  23.8,  24.3,  24.8,  25.3,
    25.8,  26.3,  26.8,  27.3,  27.8,  28.3,  28.8,  29.3,  29.8,
    30.3,  30.8,  31.3,  31.8,  32.3,  32.8,  33.3,  33.8,  34.3,
    34.8,  35.3,  35.8,  36.3,  36.8,  37.3,  37.8,  38.3,  38.8,
    39.3,  39.8,  40.3,  40.8,  45.8,  50.8,  55.8,  60.8,  65.8,
    70.8,  75.8,  80.8])
J2_Bias_Q4=np.array([
    -19.2, -14.2,  -9.2,  -4.2,   0.8,   5.8,  10.8,  15.8,  20.8,
    25.8,  30.8,  35.8,  36.3,  36.8,  37.3,  37.8,  38.3,  38.8,
    39.3,  39.8,  40.3,  40.8,  41.3,  41.8,  42.3,  42.8,  43.3,
    43.8,  44.3,  44.8,  45.3,  45.8,  46.3,  46.8,  47.3,  47.8,
    48.3,  48.8,  49.3,  49.8,  50.3,  50.8,  51.3,  51.8,  52.3,
    52.8,  53.3,  53.8,  54.3,  54.8,  55.3,  55.8,  56.3,  56.8,
    57.3,  57.8,  58.3,  58.8,  59.3,  59.8,  60.3,  60.8,  61.3,
    61.8,  62.3,  62.8,  63.3,  63.8,  64.3,  64.8,  65.3,  65.8,
    65.8,  70.8,  75.8,  80.8])
P1_J2_Q1=np.array([
    0.14341853, 0.14383853, 0.14240108, 0.14485251, 0.13858289,
    0.13745961, 0.13880191, 0.14227939, 0.14160397, 0.14309938,
    0.14178229, 0.14296112, 0.14300091, 0.14024927, 0.13448874,
    0.14247919, 0.14243958, 0.14674682, 0.14912471, 0.14493708,
    0.14417599, 0.13818356, 0.1457281 , 0.14478009, 0.14320486,
    0.14638607, 0.14562773, 0.14205711, 0.14663115, 0.14178135,
    0.14118318, 0.1430593 , 0.1401164 , 0.14615755, 0.15033068,
    0.17440918, 0.19903743, 0.22903554, 0.2173717 , 0.20527356,
    0.19412336, 0.18114617, 0.1668256 , 0.16652439, 0.16267539,
    0.15751003, 0.15708738, 0.15464129, 0.15131163, 0.15493552,
    0.1519661 , 0.14630322, 0.15251326, 0.15008192, 0.15311478,
    0.15073283, 0.15080689, 0.1503287 , 0.14713701, 0.1485383 ,
    0.14758607, 0.14618517, 0.14802903, 0.1471562 , 0.14810878,
    0.14610432, 0.1445715 , 0.14471767, 0.14663127, 0.14900481,
    0.14992515, 0.14050313, 0.14560092, 0.14399402, 0.14407969])
P1_J2_Q4=np.array([
    0.02214195, 0.02256044, 0.02072344, 0.02299249, 0.02200681,
    0.02186614, 0.02202776, 0.02263901, 0.02201236, 0.02969689,
    0.03477123, 0.03357584, 0.03261764, 0.03327796, 0.03494304,
    0.03475997, 0.04047331, 0.04660141, 0.05062003, 0.05102928,
    0.05236587, 0.05313876, 0.05677238, 0.06277559, 0.06682979,
    0.06954751, 0.07392247, 0.07615308, 0.07197991, 0.06709823,
    0.06548182, 0.07020057, 0.04225405, 0.05730299, 0.06804704,
    0.06782928, 0.06920642, 0.06960681, 0.07143537, 0.07772981,
    0.08408397, 0.09251345, 0.09416948, 0.09306106, 0.09280088,
    0.08921091, 0.08938222, 0.08782979, 0.08914532, 0.08336228,
    0.07867377, 0.07114134, 0.06965963, 0.06245749, 0.06152398,
    0.05824228, 0.05864945, 0.0560339 , 0.05457601, 0.05080994,
    0.04761514, 0.04395504, 0.04258057, 0.04065542, 0.04085973,
    0.04101071, 0.04043504, 0.03899171, 0.03752712, 0.03793507,
    0.03743189, 0.03936843, 0.03703505, 0.03307601, 0.03042887,
    0.03041551])

plt.plot(J2_Bias_Q1, P1_J2_Q1, label='Q1')
plt.plot(J2_Bias_Q4, P1_J2_Q4, label='Q4')
plt.xlabel('J2 Bias (mDAC)')
plt.ylabel('P1')
# plt.yscale('log')
plt.grid()
plt.legend()
plt.show()

# plt.plot(J2_Bias_Q1*4.8, P1_J2_Q1, label='Q1')
# plt.plot(J2_Bias_Q4*4.8, P1_J2_Q4, label='Q4')
# plt.xlabel('J2 Bias (GHz)')
# plt.ylabel('P1')
# plt.grid()
# plt.legend()
# plt.show()